{% extends 'base.html.twig' %}

{% block title %}Liste des sessions
{% endblock %}

{% block main %}
	<div class="table-responsive containerIndex">
		<div class="divContainerTable">
			<a href="{{ path('session_add') }}" class="btn btn-primary btnAjout">Ajouter une session</a>
			<table class="table">
				<thead class="thead">
					<tr>
						<th>Date de début</th>
						<th>Date de fin</th>
						<th>Durée (en mois)</th>
						<th>Nombre de places</th>
						<th>Places restantes</th>
						<th>Détail programme</th>
						{% if is_granted('ROLE_SUPER_ADMIN') %}
							<th>Modifier</th>
							<th>Supprimer</th>
						{% endif %}
					</tr>
				</thead>
				<tbody>
					{% for session in sessions %}
						<tr>
							<td>{{ session.dateStart | date('d/m/Y') }}</td>
							<td>{{ session.dateEnd | date('d/m/Y') }}</td>
							<td>{{ session.getDuration }}</td>
							<td>{{ session.nbSpace }}</td>
							<td>{{ session.nbSpace }}</td>
							<td>
								<a href="{{ path('session_show', {'id':session.id}) }}" class="btn btn-secondary btn-sm">Détails</a>
							</td>
							{% if is_granted('ROLE_SUPER_ADMIN') %}
								<td>
									<a href="{{ path('session_edit', {'id':session.id}) }}" class="btn btn-info">Modifier</a>
								</td>
								<td>
									<a href="{{ path('session_delete', {'id':session.id}) }}" class="btn btn-danger">Supprimer</a>
								</td>
							{% endif %}
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>

	</div>
{% endblock %}
